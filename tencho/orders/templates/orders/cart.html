{% extends 'base.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/cart/cart.css' %}">
{% endblock %}
{% block title %}
<title>Tencho-Basket</title>
{% endblock %}

{% block content %}
        <div class="cart-form">
            <div class="cart-title">
                <p>Корзина</p>
            </div>
            <div class="order">
                <div class="order-title">Оформление заказа</div>
                <div class="order-content">
                    <div class="left-content">
                        <div class="order-info">
                            <div class="order-items">
                                
                                <p>Товары</p>
                                <div class="cart-list">
                                    {% if baskets%}
                                        <div class="cart-list-inside">
                                            {% for basket in baskets %}
                                            <div class="order-item" data-basket_id="{{ basket.id }}">
                                                <img src="{{basket.product.get_image_url}}">
                                                <div class="order-name">
                                                    <p>{{basket.product.category}} {{basket.product.name}}, размер {{basket.size}}</p>
                                                </div>
                                                <div class="order-counter">
                                                    <div class="order-number">
                                                        <p class="ovalue">{{basket.quantity}}</p>
                                                    </div>
                                                </div>
                                                <div class="order-price">
                                                    <p><span class="pricePerItem" data-perItem="">{{basket.quantity_price}}</span>₽</p>
                                                </div>
                                                <div class="delete">
                                                <form id="form_delete_product" class="hidden" action="{% url 'orders:basket_delete'%}" method="POST">
                                                    {% csrf_token %}
                                                    <button class="delete-item"
                                                        type="submit" id="submit_btn"
                                                                data-basket_id="{{ basket.id }}"
                                                        >
                                                    <svg  class="trash delete-item" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M18.79 7C18.3537 7 18 7.35369 18 7.79V16.63C18 18.4912 16.4912 20 14.63 20H8.95C7.0888 20 5.58 18.4912 5.58 16.63V7.79C5.58 7.35369 5.22631 7 4.79 7C4.3537 7 4 7.35369 4 7.79V16.63C4.02742 19.3719 6.25799 21.5801 9 21.58H14.68C17.4025 21.5529 19.6029 19.3525 19.63 16.63V7.79C19.6304 7.57152 19.5404 7.36261 19.3812 7.21294C19.2221 7.06326 19.008 6.98617 18.79 7Z" fill="#D7E7E7" />
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M18.79 5.58H4.79C4.3537 5.58 4 5.22631 4 4.79C4 4.35369 4.3537 4 4.79 4H7.44L8.62 2.72C9.07107 2.26141 9.68675 2.00218 10.33 2H13.25C13.8839 1.99999 14.4918 2.25179 14.94 2.7L16.14 4H18.79C19.2263 4 19.58 4.35369 19.58 4.79C19.58 5.22631 19.2263 5.58 18.79 5.58ZM13.25 3.58H10.33C10.1301 3.58007 9.93744 3.65499 9.79 3.79L9.6 3.99H13.98L13.79 3.79C13.6436 3.65326 13.4503 3.57807 13.25 3.58Z" fill="#D7E7E7" />
                                                    <path d="M8.03906 8.79004V11.79C8.03906 12.2043 8.37485 12.54 8.78906 12.54C9.20328 12.54 9.53906 12.2043 9.53906 11.79V8.79004C9.53906 8.37583 9.20328 8.04004 8.78906 8.04004C8.37485 8.04004 8.03906 8.37583 8.03906 8.79004Z" fill="#D7E7E7" />
                                                    <path d="M11.0391 8.79004V16.79C11.0391 17.2043 11.3748 17.54 11.7891 17.54C12.2033 17.54 12.5391 17.2043 12.5391 16.79V8.79004C12.5391 8.37583 12.2033 8.04004 11.7891 8.04004C11.3748 8.04004 11.0391 8.37583 11.0391 8.79004Z" fill="#D7E7E7" />
                                                    <path d="M14.0391 8.79004V11.79C14.0391 12.2043 14.3748 12.54 14.7891 12.54C15.2033 12.54 15.5391 12.2043 15.5391 11.79V8.79004C15.5391 8.37583 15.2033 8.04004 14.7891 8.04004C14.3748 8.04004 14.0391 8.37583 14.0391 8.79004Z" fill="#D7E7E7"/>
                                                    </svg>
                                                </button>
                                                </form>
                                                </div>
                                            </div>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                    <div class="empty">У вас нет товаров в корзине!</div>
                                    {% endif %}
                                </div>
                            </div>
                                        
                                    <!--Где-то здесь генерируется товары в корзине js/generatecart.js-->
                                    <!--itemscount.js-->
                                    
                                </div>
                            </div>
                        </div>
                        <div class="delivery-content">
                            <div class="delivery-type">
                                <div class="type-title">
                                    <p>Доставка</p>
                                </div>
                                <div class="pick-point">
                                    <input checked type="radio" name="radio">
                                    <label for="pick-point">Пункт выдачи (229₽)</label>
                                </div>
                                <div class="by-courier">
                                    <input type="radio" name="radio">
                                    <label for="by-courier">Курьером (349₽)</label>
                                </div>
                                <div class="pick-up">
                                    <input type="radio" name="radio">
                                    <label for="pick-up">Самовывоз (59₽)</label>
                                </div>
                                <div class="post-office">
                                    <input type="radio" name="radio">
                                    <label for="post-office">Почтовое отделение (129₽)</label>
                                </div>
                            </div>
                            <div class="delivery-price">
                                <p class="category-title">Стоимость доставки</p>
                                <p class="category-info">229₽</p>
                            </div>
                            <div class="payment">
                                <p class="category-title">Оплата</p>
                                <p class="category-info">Наличные</p>
                            </div>
                            <div class="storage">
                                <p class="category-title">Срок хранения</p>
                                <p class="category-info">7 дней</p>
                            </div>
                            <p>В момент доставки заказа в пункт выдачи вам поступит SMS</p>
                        </div>
                        <div class="payment-type">
                            <div class="type-title">
                                <p>Способ оплаты</p>
                            </div>
                            <div class="payments">
                                <div class="online">
                                    <input type="radio" name="radio2">
                                    <label for="pick-up">Онлайн</label>
                                </div>
                                <div class="ofline">
                                    <input checked type="radio" name="radio2">
                                    <label for="pick-up">Наличные</label>
                                </div>
                            </div>
                        </div>
                        <a href="#" class="pay">Оплатить</a>
                        <div class="right-content">
                            <div class="receipt">
                                <div class="receipt-title">
                                    <p>Ваш заказ</p>
                                </div>
                                <div class="receipt-list">
                                    <div class="products">
                                        <p>Товары(<span class="ammountInCart"></span>)</p>
                                        <p><span class="total-price"></span> ₽</p>
                                    </div>
                                    <div class="delivery-price-receipt">
                                        <p>Доставка</p>
                                        <p><span class="total-delivery">239</span> ₽</p>
                                    </div>
                                    <div class="bonuses">
                                        <p>Бонусы</p>
                                        <p>0 Б</p>
                                    </div>
                                </div>
                                <div class="total">
                                    <p>Итого:</p>
                                    <p>Сумма заказа</p>
                                    <p><span class="allPrice">0</span> ₽</p>
                                </div>
                            </div>
                            <div class="bonuses-receipt">
                                <div class="bonuses-title">
                                    <p>Будет начислено</p>
                                </div>
                                <div class="bonuses-list">
                                    <div class="for-products">
                                        <p>За товары</p>
                                        <p>0 Б</p>
                                    </div>
                                    <div class="for-payment">
                                        <p>За оплату онлайн</p>
                                        <p><span class="online-bonuses">0</span> Б</p>
                                    </div>
                                </div>
                                <div class="notification">
                                    <div class="total-bonuses">
                                        <p>0 бонусов</p>
                                        <p>для следующих заказов</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                  
                    </div>
                </div>
            </div>
        </div>

                    
        {% endblock %}
    {% block js %}
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="{% static 'js/burger.js' %}"></script>
    <script src="{% static 'js/cart_delete.js' %}"></script>
    <script src="{% static 'js/smooth-scroll.js' %}"></script>
    <script src="{% static 'js/itemscount.js' %}"></script>
    <script src="{% static 'js/scrolltoTop.js' %}"></script>
    <script src="{% static 'js/generatecart.js' %}"></script>
    {%endblock%}